#include<iostream>
using namespace std;


int main(){
  int m,n,temp;
  cout<<"Enter no.of processes and resources: ";
  cin>>m>>n;
  int alloc[m][n],need[m][n],max[m][n],inst[n],avail[n];
  bool done[m];
  cout<<"Enter the alloc:"<<endl;
  for(int i=0;i<m;i++)
    for(int j=0;j<n;j++)
      cin>>alloc[i][j];
  cout<<"Enter the Max:"<<endl;
  for(int i=0;i<m;i++)
    for(int j=0;j<n;j++)
      cin>>max[i][j];
  cout<<"Enter the instant resources:";
  for(int j=0;j<n;j++)
      cin>>inst[j];

  //calc need
  for(int i=0;i<m;i++)
    for(int j=0;j<n;j++)
      need[i][j]=max[i][j]-alloc[i][j];
 
  for(int i=0;i<n;i++){
    temp=0;
    for(int j=0;j<m;j++){
      temp+=alloc[j][i];
    }
    avail[i]=inst[i]-temp;
  }

  for(int i=0;i<m;i++){
    done[i]=false;
  }
  int i=0;

  cout<<"Need: \n";
  for(int i=0;i<m;i++){
    for(int j=0;j<n;j++)
      cout<<need[i][j]<<" ";
    cout<<endl;
  }

  cout<<"Avail :\n";
  for(int i=0;i<n;i++)
    cout<<avail[i]<<" ";

  cout<<endl;
  while(1){
    cout<<"\n"<<done[i]<<" __ ";
    if(done[i]==true)
      i++;
    int j;
    for(j=0;j<n;j++){
      if(need[i][j]>avail[j])
	break;
    }
    if(j==n){
      done[i]=true;
      for(int k=0;k<n;k++){
	avail[k]+=alloc[i][k];
      }
    }
    i++;
    if(i>=m)
      i=0;
    int s;
    for(s=0;s<m;s++)
      if(done[s]==false)break;
    if(s==m)
      break;
  }

  cout<<"\nAvail:  ";
  for(int i=0;i<n;i++)
    cout<<avail[i]<<" ";
  
  return 0;			  
}
